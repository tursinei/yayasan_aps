/**
 * plugin jquery Pagination integrated with laravel paginate function via ajax .
 * Copyright (c) 2022 Velly tursinei;
 */
!function(r){let d={numbering:!0,useButtons:!0,searching:!0,cols:[],colId:"",url:""},a=null;function s(t){let l="",i=t.from;t.data.forEach(n=>{let a=r("<tr></tr>");var t,e;d.numbering&&(e=r("<td></td>").text(i).addClass("text-center"),a.append(e[0].outerHTML)),d.cols.forEach(t=>{let e=r("<td></td>").text(t);"object"==typeof t&&(e=r("<td></td>").html(n[t.key]).addClass(t.class)),a.append(e[0].outerHTML)}),d.useButtons&&(t='<button type="button" data-id="'+n[d.colId]+'" class="btn btn-xs btn-info btn-update" ><i class="fa fa-pencil"></i></button>',e='<button type="button" data-id="'+n[d.colId]+'" class="btn btn-xs btn-delete btn-danger" ><i class="fa fa-trash"></i></button>',e=r("<td></td>").html(t+"&nbsp;"+e).addClass("text-center"),a.append(e[0].outerHTML)),l+=a[0].outerHTML,i++});let e=a.find("tbody");(0==e.length?r("<tbody></tbody>"):e).html(l)}function o(i,t){let e=i.next("div.row");0==e.length&&(e=r('<div class="row"></div>').insertAfter(i),e.append('<div class="col-md-12 text-right"></div>'));let d=r('<ul class="pagination"></ul>');t.links.forEach(t=>{let e="",n="",a=t.url;t.active&&(n="active",a="#"),null==t.url&&(e="disabled",a="#");let l=r('<li class="'+e+" "+n+'"><a href="'+a+'">'+t.label+"</a></li>");l.find("a").click(function(t){t.preventDefault(),r(this).parent().hasClass("disabled")||(t={tsearch:r("#tPaginate-search").val()},r.get(this.href,t,function(t){s(t),o(i,t)}))}),d.append(l)}),e.find(".text-right").html(d)}r.fn.tPaginate=function(t){var e=r.extend(d,t);if(""==e.url)throw"Key url Undefined";if(a=this,""==e.colId)throw"Key colId as column name of primary key from table Undefined";let n=this.parent(".table-scrollable");0==n.length&&(n=this.wrap('<div class="table-scrollable"></div>').parent());return r.get(e.url,function(t){e.searching&&function(n){var a=n.prev("div.row").find("div.text-right");if(0==a.length){a=r("<div></div>").addClass("col-md-12");let t=r('<input id="tPaginate-search">').appendTo(a).addClass("form-control input-medium input-sm pull-right").attr("placeholder","Search");t.on("input",function(){var t;2<=this.value.length&&(t={tsearch:this.value},r.get(d.url,t,function(t){s(t),o(n,t)}))});let e=r('<div class="row"></div>').append(a);e.insertBefore(n)}}(n),s(t),o(n,t)}),this}}(jQuery);
